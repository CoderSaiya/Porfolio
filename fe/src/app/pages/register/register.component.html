<div class="register-container">
    <div class="register-card card">
        <div class="register-header">
            <lucide-icon name="UserPlus" [size]="32"></lucide-icon>
            <h1>Tạo tài khoản</h1>
            <p>Tham gia ngay hôm nay!</p>
        </div>

        <div class="error-banner" *ngIf="errorMessage">
            <lucide-icon name="AlertCircle"></lucide-icon>
            {{ errorMessage }}
        </div>

        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
            <div class="form-group">
                <label for="fullName">Tên đầy đủ</label>
                <input id="fullName" type="text" formControlName="fullName" class="form-input" placeholder="John Doe">
            </div>

            <div class="form-group">
                <label for="username">Tên người dùng</label>
                <input id="username" type="text" formControlName="username" class="form-input" placeholder="johndoe"
                    [attr.aria-invalid]="registerForm.get('username')?.invalid && registerForm.get('username')?.touched">
            </div>

            <div class="form-group">
                <label for="email">Email</label>
                <input id="email" type="email" formControlName="email" class="form-input" placeholder="john@example.com"
                    [attr.aria-invalid]="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
            </div>

            <div class="form-group">
                <label for="password">Mật khẩu</label>
                <input id="password" type="password" formControlName="password" class="form-input" placeholder="••••••"
                    [attr.aria-invalid]="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
            </div>

            <div class="form-group">
                <label for="confirmPassword">Xác nhận mật khẩu</label>
                <input id="confirmPassword" type="password" formControlName="confirmPassword" class="form-input"
                    placeholder="••••••"
                    [attr.aria-invalid]="registerForm.errors?.['mismatch'] && registerForm.get('confirmPassword')?.touched">
            </div>

            <button type="submit" class="btn btn--primary btn--full" [disabled]="registerForm.invalid || loading">
                <span *ngIf="!loading">Đăng ký</span>
                <span *ngIf="loading" class="spinner"></span>
            </button>

            <div class="auth-links">
                <p>Đã có tài khoản? <a routerLink="/login">Đăng nhập</a></p>
            </div>
        </form>
    </div>
</div>