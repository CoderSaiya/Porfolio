<div class="comment-input" [class.comment-input--reply]="isReply">
    <textarea [(ngModel)]="content" [placeholder]="placeholder" class="comment-input__textarea" rows="2"></textarea>

    <div class="comment-input__actions">
        <div class="comment-input__tools">
            <button type="button" class="btn-emoji-labeled" (click)="toggleEmojiPicker()"
                [class.btn-emoji-labeled--active]="showEmojiPicker" title="Chọn emoji" aria-label="Chọn emoji">
                <lucide-icon name="smile" [size]="18"></lucide-icon>
                <span>Emoji</span>
            </button>

            <div *ngIf="showEmojiPicker" class="emoji-picker-wrapper">
                <div class="emoji-picker-overlay" (click)="showEmojiPicker = false"></div>
                <div class="emoji-picker-container">
                    <emoji-mart (emojiClick)="addEmoji($event)" [darkMode]="true" title="Chọn emoji" emoji="point_up">
                    </emoji-mart>
                </div>
            </div>
        </div>

        <div class="comment-input__buttons">
            <button *ngIf="isReply" type="button" class="btn btn--ghost" (click)="onCancel()">Hủy</button>
            <button type="button" class="btn btn--primary" [disabled]="!content.trim()" (click)="onSubmit()">
                {{ buttonLabel }}
            </button>
        </div>
    </div>
</div>