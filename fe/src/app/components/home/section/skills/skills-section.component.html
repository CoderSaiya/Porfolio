<section id="skills" class="skills" #sectionRef>
  <div class="container">
    <div class="skills__wrap" [class.slide-in-diagonal]="isVisible">
    <div class="skills__header">
        <span class="badge badge--secondary">Kỹ năng</span>
        <h2 class="skills__title">Chuyên Môn <span class="accent">Kỹ Thuật</span></h2>
        <div class="skills__underline underline-gradient"></div>
      </div>

      <div class="skills__grid">
        <div class="skillcard card stagger-animation" *ngFor="let c of skillCategories; index as ci" [style.--stagger]="ci">
          <div class="skillcard__title">
            <div class="skillcard__icon" [style.background]="c.color + '22'">
              <lucide-icon [name]="c.icon" [style.color]="c.color"></lucide-icon>
            </div>
            <h3>{{ c.title }}</h3>
          </div>

          <div class="skillcard__list">
            <div class="skillbar" *ngFor="let s of c.skills; index as si">
              <div class="skillbar__label">{{ s.name }}</div>
              <div class="skillbar__dots">
                <span *ngFor="let d of [0,1,2,3,4]; index as di" class="skillbar__dot"
                      [class.skillbar__dot--on]="di < Math.ceil(s.level/20)"
                      [style.transitionDelay]="(ci*0.2 + si*0.1 + di*0.05) + 's'"></span>
                <span class="skillbar__level">{{ levelLabel(s.level) }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="skills__extra">
        <h3>Công nghệ khác</h3>
        <div class="skills__chips">
          <span *ngFor="let t of extraTech; index as i" class="skills__chip stagger-animation" [style.--stagger]="i">{{ t }}</span>
        </div>
      </div>
    </div>
  </div>
</section>
